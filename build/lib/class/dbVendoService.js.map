{
  "version": 3,
  "sources": ["../../../src/lib/class/dbVendoService.ts"],
  "sourcesContent": ["import { createClient } from 'db-vendo-client';\nimport { profile as dbNavProfile } from 'db-vendo-client/p/dbnav/index.js';\nimport type * as Vendo from 'hafas-client';\nimport type { ITransportService } from '../types/transportService';\n\nexport class VendoService implements ITransportService {\n    private navClient: ReturnType<typeof createClient> | null = null;\n    private clientName: string;\n\n    /**\n     * Erzeugt eine neue Instanz des VendoService.\n     * Der Client wird erst durch Aufruf von `init()` erstellt.\n     *\n     * @param clientName Name, der an den Client \u00FCbergeben wird\n     */\n    constructor(clientName: string) {\n        this.clientName = clientName;\n    }\n\n    /**\n     * Initialisiert den db-vendo-Client.\n     * Muss vor der Nutzung der anderen Methoden aufgerufen werden.\n     *\n     * @returns true bei Erfolg, false bei Fehler\n     */\n    public init(): boolean {\n        try {\n            this.navClient = createClient(dbNavProfile, this.clientName);\n            return true;\n        } catch (error) {\n            throw new Error(`db-vendo-Client konnte nicht initialisiert werden: ${(error as Error).message}`);\n        }\n    }\n\n    /**\n     * Pr\u00FCft ob der Client initialisiert wurde.\n     */\n    public isInitialized(): boolean {\n        return this.navClient !== null;\n    }\n\n    /**\n     * Gibt den initialisierten Client zur\u00FCck oder wirft einen Fehler.\n     */\n    private getNavClient(): ReturnType<typeof createClient> {\n        if (!this.navClient) {\n            throw new Error('VendoService wurde noch nicht initialisiert. Bitte zuerst init() aufrufen.');\n        }\n        return this.navClient;\n    }\n    /**\n     * Suche nach Orten/Stationen.\n     *\n     * @param query Suchbegriff f\u00FCr Orte/Stationen\n     * @param options optionale Suchoptionen\n     * @returns Promise mit Suchergebnissen (typisiert als Array von Station, Stop oder Location)\n     */\n    async getLocations(\n        query: string,\n        options?: Vendo.LocationsOptions,\n    ): Promise<ReadonlyArray<Vendo.Station | Vendo.Stop | Vendo.Location>> {\n        return this.getNavClient().locations(query, options);\n    }\n\n    /**\n     * Holt Abfahrten f\u00FCr eine gegebene Station.\n     *\n     * @param stationId ID der Station\n     * @param options optionale Abfrageoptionen\n     * @returns Promise mit Abfahrten\n     */\n    async getDepartures(stationId: string, options?: Vendo.DeparturesArrivalsOptions): Promise<Vendo.Departures> {\n        return this.getNavClient().departures(stationId, options);\n    }\n\n    /**\n     * Holt Routen zwischen zwei Stationen.\n     *\n     * @param fromId ID der Startstation\n     * @param toId ID der Zielstation\n     * @param options optionale Routenoptionen\n     * @returns Promise mit Routen\n     */\n    async getRoute(fromId: string, toId: string, options?: Vendo.JourneysOptions): Promise<Vendo.Journeys> {\n        return this.getNavClient().journeys(fromId, toId, options);\n    }\n\n    /**\n     * Holt Details zu einer Station/einem Haltpunkt.\n     *\n     * @param stationId ID der Station/des Haltpunkts\n     * @param options optionale Abfrageoptionen\n     * @returns Promise mit Stations-/Haltpunktdetails\n     */\n    async getStop(\n        stationId: string,\n        options?: Vendo.StopOptions,\n    ): Promise<Vendo.Station | Vendo.Stop | Vendo.Location> {\n        return this.getNavClient().stop(stationId, options);\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAA6B;AAC7B,mBAAwC;AAIjC,MAAM,aAA0C;AAAA,EAC3C,YAAoD;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQR,YAAY,YAAoB;AAC5B,SAAK,aAAa;AAAA,EACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQO,OAAgB;AACnB,QAAI;AACA,WAAK,gBAAY,qCAAa,aAAAA,SAAc,KAAK,UAAU;AAC3D,aAAO;AAAA,IACX,SAAS,OAAO;AACZ,YAAM,IAAI,MAAM,sDAAuD,MAAgB,OAAO,EAAE;AAAA,IACpG;AAAA,EACJ;AAAA;AAAA;AAAA;AAAA,EAKO,gBAAyB;AAC5B,WAAO,KAAK,cAAc;AAAA,EAC9B;AAAA;AAAA;AAAA;AAAA,EAKQ,eAAgD;AACpD,QAAI,CAAC,KAAK,WAAW;AACjB,YAAM,IAAI,MAAM,4EAA4E;AAAA,IAChG;AACA,WAAO,KAAK;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,MAAM,aACF,OACA,SACmE;AACnE,WAAO,KAAK,aAAa,EAAE,UAAU,OAAO,OAAO;AAAA,EACvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,cAAc,WAAmB,SAAsE;AACzG,WAAO,KAAK,aAAa,EAAE,WAAW,WAAW,OAAO;AAAA,EAC5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,MAAM,SAAS,QAAgB,MAAc,SAA0D;AACnG,WAAO,KAAK,aAAa,EAAE,SAAS,QAAQ,MAAM,OAAO;AAAA,EAC7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,QACF,WACA,SACoD;AACpD,WAAO,KAAK,aAAa,EAAE,KAAK,WAAW,OAAO;AAAA,EACtD;AACJ;",
  "names": ["dbNavProfile"]
}
