{
  "version": 3,
  "sources": ["../../../src/lib/class/station.ts"],
  "sourcesContent": ["import type * as Hafas from 'hafas-client';\nimport type { TTAdapter } from '../../main';\nimport { genericStateObjects } from '../const/definition';\nimport { BaseClass } from '../tools/library';\n\nexport class StationRequest extends BaseClass {\n    constructor(adapter: TTAdapter) {\n        super(adapter);\n        this.log.setLogPrefix('station');\n    }\n\n    private async getStop(\n        stationId: string,\n        service: any,\n        options?: Hafas.StopOptions,\n    ): Promise<Hafas.Station | Hafas.Stop | Hafas.Location> {\n        try {\n            if (!stationId) {\n                throw new Error('Keine stationId \u00FCbergeben');\n            }\n            if (!service) {\n                throw new Error('Kein Service \u00FCbergeben');\n            }\n            const stop = await service.getStop(stationId, options);\n            // Vollst\u00E4ndiges JSON f\u00FCr Debugging\n            this.adapter.log.debug(JSON.stringify(stop, null, 1));\n            // JSON in die States schreiben\n            await this.library.writeFromJson(\n                `${this.adapter.namespace}.Stations.${stationId}.`,\n                'departures',\n                genericStateObjects,\n                stop,\n                true,\n            );\n            return stop;\n        } catch (err) {\n            this.log.error(`Fehler bei der Abfrage der Station ${stationId}: ${(err as Error).message}`);\n            throw err;\n        }\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,wBAAoC;AACpC,qBAA0B;AAEnB,MAAM,uBAAuB,yBAAU;AAAA,EAC1C,YAAY,SAAoB;AAC5B,UAAM,OAAO;AACb,SAAK,IAAI,aAAa,SAAS;AAAA,EACnC;AAAA,EAEA,MAAc,QACV,WACA,SACA,SACoD;AACpD,QAAI;AACA,UAAI,CAAC,WAAW;AACZ,cAAM,IAAI,MAAM,8BAA2B;AAAA,MAC/C;AACA,UAAI,CAAC,SAAS;AACV,cAAM,IAAI,MAAM,2BAAwB;AAAA,MAC5C;AACA,YAAM,OAAO,MAAM,QAAQ,QAAQ,WAAW,OAAO;AAErD,WAAK,QAAQ,IAAI,MAAM,KAAK,UAAU,MAAM,MAAM,CAAC,CAAC;AAEpD,YAAM,KAAK,QAAQ;AAAA,QACf,GAAG,KAAK,QAAQ,SAAS,aAAa,SAAS;AAAA,QAC/C;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AACA,aAAO;AAAA,IACX,SAAS,KAAK;AACV,WAAK,IAAI,MAAM,sCAAsC,SAAS,KAAM,IAAc,OAAO,EAAE;AAC3F,YAAM;AAAA,IACV;AAAA,EACJ;AACJ;",
  "names": []
}
