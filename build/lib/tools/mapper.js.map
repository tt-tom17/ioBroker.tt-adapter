{
  "version": 3,
  "sources": ["../../../src/lib/tools/mapper.ts"],
  "sourcesContent": ["import type { Departure, DepartureState, DeparturesResponse, Remark } from '../types/types';\n\n/**\n * Gruppiert Remarks nach Typ und fasst deren Texte zusammen\n *\n * @param remarks Array von Remark Objekten\n */\nfunction groupRemarksByType(remarks: Remark[]): {\n    hint: string | null;\n    warning: string | null;\n    status: string | null;\n} {\n    const hints: string[] = [];\n    const warnings: string[] = [];\n    const statuses: string[] = [];\n\n    for (const remark of remarks) {\n        switch (remark.type) {\n            case 'hint':\n                hints.push(remark.text);\n                break;\n            case 'warning':\n                warnings.push(remark.text);\n                break;\n            case 'status':\n                statuses.push(remark.text);\n                break;\n        }\n    }\n\n    return {\n        hint: hints.length > 0 ? hints.join('\\n') : null,\n        warning: warnings.length > 0 ? warnings.join('\\n') : null,\n        status: statuses.length > 0 ? statuses.join('\\n') : null,\n    };\n}\n\n/**\n * Konvertiert HAFAS Departure zu reduzierten DepartureState\n *\n * @param departure HAFAS Departure Objekt\n */\nexport function mapDepartureToDepartureState(departure: Departure): DepartureState {\n    return {\n        when: departure.when,\n        plannedWhen: departure.plannedWhen,\n        delay: departure.delay,\n        direction: departure.direction,\n        platform: departure.platform,\n        line: {\n            name: departure.line.name,\n            fahrtNr: departure.line.fahrtNr,\n            productName: departure.line.productName,\n            operator: departure.line.operator.name,\n        },\n        remarks: groupRemarksByType(departure.remarks),\n    };\n}\n\n/**\n * Konvertiert Array von Departures zu Array von DepartureStates\n *\n * @param departures Array von HAFAS Departure Objekten\n */\nexport function mapDeparturesToDepartureStates(departures: Departure[]): DepartureState[] {\n    return departures.map(mapDepartureToDepartureState);\n}\n\n/**\n * Konvertiert DeparturesResponse zu Array von DepartureStates\n *\n * @param response HAFAS DeparturesResponse Objekt\n */\nexport function mapDeparturesResponseToStates(response: DeparturesResponse): DepartureState[] {\n    return mapDeparturesToDepartureStates(response.departures);\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,SAAS,mBAAmB,SAI1B;AACE,QAAM,QAAkB,CAAC;AACzB,QAAM,WAAqB,CAAC;AAC5B,QAAM,WAAqB,CAAC;AAE5B,aAAW,UAAU,SAAS;AAC1B,YAAQ,OAAO,MAAM;AAAA,MACjB,KAAK;AACD,cAAM,KAAK,OAAO,IAAI;AACtB;AAAA,MACJ,KAAK;AACD,iBAAS,KAAK,OAAO,IAAI;AACzB;AAAA,MACJ,KAAK;AACD,iBAAS,KAAK,OAAO,IAAI;AACzB;AAAA,IACR;AAAA,EACJ;AAEA,SAAO;AAAA,IACH,MAAM,MAAM,SAAS,IAAI,MAAM,KAAK,IAAI,IAAI;AAAA,IAC5C,SAAS,SAAS,SAAS,IAAI,SAAS,KAAK,IAAI,IAAI;AAAA,IACrD,QAAQ,SAAS,SAAS,IAAI,SAAS,KAAK,IAAI,IAAI;AAAA,EACxD;AACJ;AAOO,SAAS,6BAA6B,WAAsC;AAC/E,SAAO;AAAA,IACH,MAAM,UAAU;AAAA,IAChB,aAAa,UAAU;AAAA,IACvB,OAAO,UAAU;AAAA,IACjB,WAAW,UAAU;AAAA,IACrB,UAAU,UAAU;AAAA,IACpB,MAAM;AAAA,MACF,MAAM,UAAU,KAAK;AAAA,MACrB,SAAS,UAAU,KAAK;AAAA,MACxB,aAAa,UAAU,KAAK;AAAA,MAC5B,UAAU,UAAU,KAAK,SAAS;AAAA,IACtC;AAAA,IACA,SAAS,mBAAmB,UAAU,OAAO;AAAA,EACjD;AACJ;AAOO,SAAS,+BAA+B,YAA2C;AACtF,SAAO,WAAW,IAAI,4BAA4B;AACtD;AAOO,SAAS,8BAA8B,UAAgD;AAC1F,SAAO,+BAA+B,SAAS,UAAU;AAC7D;",
  "names": []
}
